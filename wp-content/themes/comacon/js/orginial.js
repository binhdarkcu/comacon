var mod_pagespeed_IvHxVYWT2W = "!function(){var t,e,i;!function(s){function o(t,e){return w.call(t,e)}function n(t,e){var i,s,o,n,r,a,l,p,c,h,u,d=e&&e.split(\"/\"),f=y.map,g=f&&f[\"*\"]||{};if(t&&\".\"===t.charAt(0))if(e){for(d=d.slice(0,d.length-1),t=t.split(\"/\"),r=t.length-1,y.nodeIdCompat&&$.test(t[r])&&(t[r]=t[r].replace($,\"\")),t=d.concat(t),c=0;c<t.length;c+=1)if(u=t[c],\".\"===u)t.splice(c,1),c-=1;else if(\"..\"===u){if(1===c&&(\"..\"===t[2]||\"..\"===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join(\"/\")}else 0===t.indexOf(\"./\")&&(t=t.substring(2));if((d||g)&&f){for(i=t.split(\"/\"),c=i.length;c>0;c-=1){if(s=i.slice(0,c).join(\"/\"),d)for(h=d.length;h>0;h-=1)if(o=f[d.slice(0,h).join(\"/\")],o&&(o=o[s])){n=o,a=c;break}if(n)break;!l&&g&&g[s]&&(l=g[s],p=c)}!n&&l&&(n=l,a=p),n&&(i.splice(0,a,n),t=i.join(\"/\"))}return t}function r(t,e){return function(){var i=T.call(arguments,0);return\"string\"!=typeof i[0]&&1===i.length&&i.push(null),d.apply(s,i.concat([t,e]))}}function a(t){return function(e){return n(e,t)}}function l(t){return function(e){m[t]=e}}function p(t){if(o(v,t)){var e=v[t];delete v[t],b[t]=!0,u.apply(s,e)}if(!o(m,t)&&!o(b,t))throw new Error(\"No \"+t);return m[t]}function c(t){var e,i=t?t.indexOf(\"!\"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var u,d,f,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,T=[].slice,$=/\\.js$/;f=function(t,e){var i,s=c(t),o=s[0];return t=s[1],o&&(o=n(o,e),i=p(o)),o?t=i&&i.normalize?i.normalize(t,a(e)):n(t,e):(t=n(t,e),s=c(t),o=s[0],t=s[1],o&&(i=p(o))),{f:o?o+\"!\"+t:t,n:t,pr:o,p:i}},g={require:function(t){return r(t)},exports:function(t){var e=m[t];return\"undefined\"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:\"\",exports:m[t],config:h(t)}}},u=function(t,e,i,n){var a,c,h,u,d,y,w=[],T=typeof i;if(n=n||t,\"undefined\"===T||\"function\"===T){for(e=!e.length&&i.length?[\"require\",\"exports\",\"module\"]:e,d=0;d<e.length;d+=1)if(u=f(e[d],n),c=u.f,\"require\"===c)w[d]=g.require(t);else if(\"exports\"===c)w[d]=g.exports(t),y=!0;else if(\"module\"===c)a=w[d]=g.module(t);else if(o(m,c)||o(v,c)||o(b,c))w[d]=p(c);else{if(!u.p)throw new Error(t+\" missing \"+c);u.p.load(u.n,r(n,!0),l(c),{}),w[d]=m[c]}h=i?i.apply(m[t],w):void 0,t&&(a&&a.exports!==s&&a.exports!==m[t]?m[t]=a.exports:h===s&&y||(m[t]=h))}else t&&(m[t]=i)},t=e=d=function(t,e,i,o,n){if(\"string\"==typeof t)return g[t]?g[t](e):p(f(t,e).f);if(!t.splice){if(y=t,y.deps&&d(y.deps,y.callback),!e)return;e.splice?(t=e,e=i,i=null):t=s}return e=e||function(){},\"function\"==typeof i&&(i=o,o=n),o?u(s,t,e,i):setTimeout(function(){u(s,t,e,i)},4),d},d.config=function(t){return d(t)},t._defined=m,i=function(t,e,i){e.splice||(i=e,e=[]),o(m,t)||o(v,t)||(v[t]=[t,e,i])},i.amd={jQuery:!0}}(),i(\"bower_components/almond/almond\",function(){}),i(\"jquery\",[],function(){\"use strict\";return jQuery}),i(\"underscore\",[],function(){\"use strict\";return _}),i(\"assets/js/SimpleMap\",[\"jquery\",\"underscore\"],function(t,e){\"use strict\";var i={latLng:\"0,0\",zoom:5,type:\"ROADMAP\",styles:\"\",scrollwheel:!1,draggable:!0,markers:[{locationlatlng:\"0,0\",title:\"demo marker\",custompinimage:\"\"}]},s=function(e,s){return this.mapOptions=t.extend({},i,s),this.elm=e,this.setOptions(),this};return s.prototype.setOptions=function(){return this.mapOptions.latLng=this.getLatLngFromString(this.mapOptions.latLng),this.mapOptions.center=new google.maps.LatLng(this.mapOptions.latLng[0],this.mapOptions.latLng[1]),this.mapOptions.mapTypeId=this.getMapConstant(),this},s.prototype.getMapConstant=function(){switch(this.mapOptions.type.toLowerCase()){case\"roadmap\":return google.maps.MapTypeId.ROADMAP;case\"satellite\":return google.maps.MapTypeId.SATELLITE;case\"hybrid\":return google.maps.MapTypeId.HYBRID;case\"terrain\":return google.maps.MapTypeId.TERRAIN;default:return google.maps.MapTypeId.ROADMAP}},s.prototype.getLatLngFromString=function(t){return e.isString(t)?e.map(t.split(\",\"),function(t){return parseFloat(t,10)}):t},s.prototype.renderMap=function(){return e.isUndefined(this.elm)?!1:(this.map=new google.maps.Map(this.elm.get(0),this.mapOptions),this.addMarkers(),this)},s.prototype.addMarkers=function(){t.each(this.mapOptions.markers,t.proxy(function(t,i){var s=this.getLatLngFromString(i.locationlatlng),o=new google.maps.Marker({position:new google.maps.LatLng(s[0],s[1]),title:i.title});e(i.custompinimage).isEmpty()||o.setIcon(i.custompinimage),o.setMap(this.map)},this))},s}),+function(t){\"use strict\";function e(e){return this.each(function(){var s=t(this),o=s.data(\"bs.carousel\"),n=t.extend({},i.DEFAULTS,s.data(),\"object\"==typeof e&&e),r=\"string\"==typeof e?e:n.slide;o||s.data(\"bs.carousel\",o=new i(this,n)),\"number\"==typeof e?o.to(e):r?o[r]():n.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",t.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",t.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",t.proxy(this.cycle,this))};i.VERSION=\"3.3.1\",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(\".item\"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=\"prev\"==t?-1:1,s=this.getItemIndex(e),o=(s+i)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?\"next\":\"prev\",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(\".next, .prev\").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},i.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},i.prototype.slide=function(e,s){var o=this.$element.find(\".item.active\"),n=s||this.getItemForDirection(e,o),r=this.interval,a=\"next\"==e?\"left\":\"right\",l=\"next\"==e?\"first\":\"last\",p=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(\".item\")[l]()}if(n.hasClass(\"active\"))return this.sliding=!1;var c=n[0],h=t.Event(\"slide.bs.carousel\",{relatedTarget:c,direction:a});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var u=t(this.$indicators.children()[this.getItemIndex(n)]);u&&u.addClass(\"active\")}var d=t.Event(\"slid.bs.carousel\",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass(\"slide\")?(n.addClass(e),n[0].offsetWidth,o.addClass(a),n.addClass(a),o.one(\"bsTransitionEnd\",function(){n.removeClass([e,a].join(\" \")).addClass(\"active\"),o.removeClass([\"active\",a].join(\" \")),p.sliding=!1,setTimeout(function(){p.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass(\"active\"),n.addClass(\"active\"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var o=function(i){var s,o=t(this),n=t(o.attr(\"data-target\")||(s=o.attr(\"href\"))&&s.replace(/.*(?=#[^\\s]+$)/,\"\"));if(n.hasClass(\"carousel\")){var r=t.extend({},n.data(),o.data()),a=o.attr(\"data-slide-to\");a&&(r.interval=!1),e.call(n,r),a&&n.data(\"bs.carousel\").to(a),i.preventDefault()}};t(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",o).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",o),t(window).on(\"load\",function(){t('[data-ride=\"carousel\"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),i(\"bootstrapCarousel\",[\"jquery\"],function(){}),i(\"assets/js/HeaderCarousel\",[\"jquery\",\"underscore\",\"bootstrapCarousel\"],function(t,e){\"use strict\";var i={selector:\".js-jumbotron-slider\",interval:t(\".js-jumbotron-slider\").data(\"interval\")},s=function(){if(Modernizr.mq(\"(min-width: 992px)\"))return void t(i.selector).removeAttr(\"style\");var s=t(i.selector).outerHeight(),o=t(i.selector).css(\"min-height\");(!e(o).isNumber()||s>o)&&t(i.selector).css(\"min-height\",s)},o=t(i.selector).carousel({interval:i.interval});o.on(\"slid.bs.carousel\",s),t(window).on(\"resize\",e.debounce(function(){t(i.selector).css(\"min-height\",0),s()},300))}),i(\"assets/js/StickyNavbar\",[\"jquery\",\"underscore\"],function(t,e){\"use strict\";var i=t(\"body\").hasClass(\"admin-bar\")?32:0,s=t(\".js-sticky-offset\").offset().top,o=\"fixed-navigation\";t(\"body\").on(\"update_sticky_state.pt\",function(){t(\"body\").hasClass(o)?(n(),t(window).trigger(\"scroll.stickyNavbar\")):r()});var n=function(){t(window).on(\"scroll.stickyNavbar\",e.throttle(function(){t(\"body\").toggleClass(\"is-sticky-navbar\",t(window).scrollTop()>s-i)},20))},r=function(){t(window).off(\"scroll.stickyNavbar\"),t(\"body\").removeClass(\"is-sticky-navbar\")};t(window).on(\"resize.stickyNavbar\",e.debounce(function(){s=t(\".js-sticky-offset\").offset().top,t(\"body\").trigger(\"update_sticky_state.pt\")},40)),t(window).trigger(\"resize.stickyNavbar\")}),+function(t){\"use strict\";function e(){var t=document.createElement(\"bootstrap\"),e={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,s=this;t(this).one(\"bsTransitionEnd\",function(){i=!0});var o=function(){i||t(s).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),i(\"bootstrapTransition\",[\"jquery\"],function(){}),+function(t){\"use strict\";function e(e){var i,s=e.attr(\"data-target\")||(i=e.attr(\"href\"))&&i.replace(/.*(?=#[^\\s]+$)/,\"\");return t(s)}function i(e){return this.each(function(){var i=t(this),o=i.data(\"bs.collapse\"),n=t.extend({},s.DEFAULTS,i.data(),\"object\"==typeof e&&e);!o&&n.toggle&&\"show\"==e&&(n.toggle=!1),o||i.data(\"bs.collapse\",o=new s(this,n)),\"string\"==typeof e&&o[e]()})}var s=function(e,i){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href=\"#'+e.id+'\"], [data-target=\"#'+e.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION=\"3.3.1\",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0,trigger:'[data-toggle=\"collapse\"]'},s.prototype.dimension=function(){var t=this.$element.hasClass(\"width\");return t?\"width\":\"height\"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var e,o=this.$parent&&this.$parent.find(\"> .panel\").children(\".in, .collapsing\");if(!(o&&o.length&&(e=o.data(\"bs.collapse\"),e&&e.transitioning))){var n=t.Event(\"show.bs.collapse\");if(this.$element.trigger(n),!n.isDefaultPrevented()){o&&o.length&&(i.call(o,\"hide\"),e||o.data(\"bs.collapse\",null));var r=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[r](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var a=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[r](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!t.support.transition)return a.call(this);var l=t.camelCase([\"scroll\",r].join(\"-\"));this.$element.one(\"bsTransitionEnd\",t.proxy(a,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[r](this.$element[0][l])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var e=t.Event(\"hide.bs.collapse\");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};return t.support.transition?void this.$element[i](0).one(\"bsTransitionEnd\",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION):o.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(t.proxy(function(i,s){var o=t(s);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass(\"in\");t.attr(\"aria-expanded\",i),e.toggleClass(\"collapsed\",!i).attr(\"aria-expanded\",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(s){var o=t(this);o.attr(\"data-target\")||s.preventDefault();var n=e(o),r=n.data(\"bs.collapse\"),a=r?\"toggle\":t.extend({},o.data(),{trigger:this});i.call(n,a)})}(jQuery),i(\"bootstrapCollapse\",[\"jquery\",\"bootstrapTransition\"],function(){}),+function(t){\"use strict\";function e(e){return this.each(function(){var s=t(this),o=s.data(\"bs.tooltip\"),n=\"object\"==typeof e&&e,r=n&&n.selector;(o||\"destroy\"!=e)&&(r?(o||s.data(\"bs.tooltip\",o={}),o[r]||(o[r]=new i(this,n))):o||s.data(\"bs.tooltip\",o=new i(this,n)),\"string\"==typeof e&&o[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init(\"tooltip\",t,e)};i.VERSION=\"3.3.1\",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},i.prototype.init=function(e,i,s){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(\" \"),n=o.length;n--;){var r=o[n];if(\"click\"==r)this.$element.on(\"click.\"+this.type,this.options.selector,t.proxy(this.toggle,this));else if(\"manual\"!=r){var a=\"hover\"==r?\"mouseenter\":\"focusin\",l=\"hover\"==r?\"mouseleave\":\"focusout\";this.$element.on(a+\".\"+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+\".\"+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&\"number\"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data(\"bs.\"+this.type);return i&&i.$tip&&i.$tip.is(\":visible\")?void(i.hoverState=\"in\"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data(\"bs.\"+this.type,i)),clearTimeout(i.timeout),i.hoverState=\"in\",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){\"in\"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data(\"bs.\"+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data(\"bs.\"+this.type,i)),clearTimeout(i.timeout),i.hoverState=\"out\",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){\"out\"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var s=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!s)return;var o=this,n=this.tip(),r=this.getUID(this.type);this.setContent(),n.attr(\"id\",r),this.$element.attr(\"aria-describedby\",r),this.options.animation&&n.addClass(\"fade\");var a=\"function\"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\\s?auto?\\s?/i,p=l.test(a);p&&(a=a.replace(l,\"\")||\"top\"),n.detach().css({top:0,left:0,display:\"block\"}).addClass(a).data(\"bs.\"+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var c=this.getPosition(),h=n[0].offsetWidth,u=n[0].offsetHeight;if(p){var d=a,f=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(f);a=\"bottom\"==a&&c.bottom+u>g.bottom?\"top\":\"top\"==a&&c.top-u<g.top?\"bottom\":\"right\"==a&&c.right+h>g.width?\"left\":\"left\"==a&&c.left-h<g.left?\"right\":a,n.removeClass(d).addClass(a)}var m=this.getCalculatedOffset(a,c,h,u);this.applyPlacement(m,a);var v=function(){var t=o.hoverState;o.$element.trigger(\"shown.bs.\"+o.type),o.hoverState=null,\"out\"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass(\"fade\")?n.one(\"bsTransitionEnd\",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var s=this.tip(),o=s[0].offsetWidth,n=s[0].offsetHeight,r=parseInt(s.css(\"margin-top\"),10),a=parseInt(s.css(\"margin-left\"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass(\"in\");var l=s[0].offsetWidth,p=s[0].offsetHeight;\"top\"==i&&p!=n&&(e.top=e.top+n-p);var c=this.getViewportAdjustedDelta(i,e,l,p);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),u=h?2*c.left-o+l:2*c.top-n+p,d=h?\"offsetWidth\":\"offsetHeight\";s.offset(e),this.replaceArrow(u,s[0][d],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?\"left\":\"top\",50*(1-t/e)+\"%\").css(i?\"top\":\"left\",\"\")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](e),t.removeClass(\"fade in top bottom left right\")},i.prototype.hide=function(e){function s(){\"in\"!=o.hoverState&&n.detach(),o.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+o.type),e&&e()}var o=this,n=this.tip(),r=t.Event(\"hide.bs.\"+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass(\"in\"),t.support.transition&&this.$tip.hasClass(\"fade\")?n.one(\"bsTransitionEnd\",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr(\"title\")||\"string\"!=typeof t.attr(\"data-original-title\"))&&t.attr(\"data-original-title\",t.attr(\"title\")||\"\").attr(\"title\",\"\")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],s=\"BODY\"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=s?{top:0,left:0}:e.offset(),r={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,r,a,n)},i.prototype.getCalculatedOffset=function(t,e,i,s){return\"bottom\"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:\"top\"==t?{top:e.top-s,left:e.left+e.width/2-i/2}:\"left\"==t?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,s){var o={top:0,left:0};if(!this.$viewport)return o;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-n-r.scroll,l=e.top+n-r.scroll+s;a<r.top?o.top=r.top-a:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var p=e.left-n,c=e.left+n+i;p<r.left?o.left=r.left-p:c>r.width&&(o.left=r.left+r.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr(\"data-original-title\")||(\"function\"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data(\"bs.\"+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data(\"bs.\"+this.type,i))),i.tip().hasClass(\"in\")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off(\".\"+t.type).removeData(\"bs.\"+t.type)})};var s=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=s,this}}(jQuery),i(\"bootstrapTooltip\",[\"jquery\"],function(){}),e.config({paths:{jquery:\"assets/js/fix.jquery\",underscore:\"assets/js/fix.underscore\",bootstrapAffix:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/affix\",bootstrapAlert:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/alert\",bootstrapButton:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/button\",bootstrapCarousel:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/carousel\",bootstrapCollapse:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/collapse\",bootstrapDropdown:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/dropdown\",bootstrapModal:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/modal\",bootstrapPopover:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/popover\",bootstrapScrollspy:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/scrollspy\",bootstrapTab:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tab\",bootstrapTooltip:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tooltip\",bootstrapTransition:\"bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/transition\"},shim:{bootstrapAffix:{deps:[\"jquery\"]},bootstrapAlert:{deps:[\"jquery\"]},bootstrapButton:{deps:[\"jquery\"]},bootstrapCarousel:{deps:[\"jquery\"]},bootstrapCollapse:{deps:[\"jquery\",\"bootstrapTransition\"]},bootstrapDropdown:{deps:[\"jquery\"]},bootstrapPopover:{deps:[\"jquery\"]},bootstrapScrollspy:{deps:[\"jquery\"]},bootstrapTab:{deps:[\"jquery\"]},bootstrapTooltip:{deps:[\"jquery\"]},bootstrapTransition:{deps:[\"jquery\"]},jqueryVimeoEmbed:{deps:[\"jquery\"]}}}),e.config({baseUrl:BuildPressVars.pathToTheme}),e([\"jquery\",\"underscore\",\"assets/js/SimpleMap\",\"assets/js/HeaderCarousel\",\"assets/js/StickyNavbar\",\"bootstrapCollapse\",\"bootstrapTooltip\"],function(t,e,i){\"use strict\";t(window).on(\"resize\",e.debounce(function(){Modernizr.mq(\"(min-width: 992px)\")&&t(\"#buildpress-navbar-collapse\").removeAttr(\"style\").removeClass(\"in\")},500)),t(\".js-where-we-are\").each(function(){new i(t(this),{latLng:t(this).data(\"latlng\"),markers:t(this).data(\"markers\"),zoom:t(this).data(\"zoom\"),type:t(this).data(\"type\"),styles:t(this).data(\"style\")}).renderMap()}),t('[data-toggle=\"tooltip\"]').tooltip()}),i(\"assets/js/main\",function(){})}();";
var mod_pagespeed_2NGNadrv4U = "window.jQuery&&!function($){var c_init=!1,Class=function(){};Class.extend=function(members){function Class(){c_init||(this._init&&this._init.apply(this,arguments),this._c&&this._c.apply(this,arguments))}var _super=this.prototype;c_init=!0;var proto=new this;c_init=!1;var val,name;for(name in proto)$.isPlainObject(proto[name])&&(val=$.extend({},proto[name]),proto[name]=val);var make_handler=function(nm,fn){return function(){var tmp=this._super;this._super=_super[nm];var ret=fn.apply(this,arguments);return this._super=tmp,ret}};for(name in members)\"function\"==typeof members[name]&&\"function\"==typeof _super[name]?proto[name]=make_handler(name,members[name]):(val=members[name],$.isPlainObject(members[name])&&(val=$.extend({},members[name])),proto[name]=val);return Class.prototype=proto,Class.prototype.constructor=Class,Class.extend=this.extend,Class};var Base={base:!1,_parent:null,prefix:\"slb\",_init:function(){this._set_parent()},_set_parent:function(p){\"undefined\"!=typeof p&&(this._parent=p),this.util._parent=this},attach:function(member,data,simple){if(simple=void 0===typeof simple?!1:!!simple,\"string\"===$.type(member)&&$.isPlainObject(data)){var obj={};if(simple)obj[member]=$.extend({},data),$.extend(this,obj);else{data._parent=this;var C=this.Class.extend(data);this[member]=new C}}},has_child:function(child){if(!this.util.is_string(child))return!1;var children=child.split(\".\");child=null;var x,o=this;for(x=0;x<children.length;x++)if(child=children[x],\"\"!==child){if(!this.util.is_obj(o)||!o[child])return!1;o=o[child]}return!0},get_parent:function(){return this._parent},util:{_base:null,_parent:null,string:\"string\",bool:\"boolean\",array:\"array\",obj:\"object\",func:\"function\",num:\"number\",get_base:function(){if(!this._base){for(var p=this.get_parent(),p_last=null;!p.base&&p_last!==p&&p._parent;)p_last=p,p=p._parent;this._base=p}return this._base},get_parent:function(){return this._parent},get_sep:function(sep){return this.is_string(sep,!1)?sep:\"_\"},get_prefix:function(){return this.is_string(this.get_parent().prefix)?this.get_parent().prefix:\"\"},has_prefix:function(val,sep){return this.is_string(val)&&0===val.indexOf(this.get_prefix()+this.get_sep(sep))},add_prefix:function(val,sep,once){return this.is_string(val)?(sep=this.get_sep(sep),this.is_bool(once)||(once=!0),once&&this.has_prefix(val,sep)?val:[this.get_prefix(),val].join(sep)):this.get_prefix()},remove_prefix:function(val,sep,once){if(!this.is_string(val,!0))return val;if(sep=this.get_sep(sep),this.is_bool(once)||(once=!0),this.has_prefix(val,sep)){var prfx=this.get_prefix()+sep;do val=val.substr(prfx.length);while(!once&&this.has_prefix(val,sep))}return val},get_attribute:function(val){var sep=\"-\",top=\"data\",pre=[top,this.get_prefix()].join(sep);return this.is_string(val,!1)?(-1===val.indexOf(pre+sep)&&(val=[pre,val].join(sep)),val):pre},get_context:function(){var b=this.get_base();return $.isArray(b.context)||(b.context=[]),b.context},is_context:function(ctx){var ret=!1;return\"string\"==typeof ctx&&(ctx=[ctx]),$.isArray(ctx)&&this.arr_intersect(this.get_context(),ctx).length&&(ret=!0),ret},is_set:function(value){return\"undefined\"!==$.type(value)?!0:!1},is_type:function(value,type,nonempty){var ret=!1;if(this.is_set(value)&&null!==value&&this.is_set(type))switch($.type(type)){case this.func:ret=value instanceof type?!0:!1;break;case this.string:ret=$.type(value)===type?!0:!1;break;default:ret=!1}return ret&&($.type(nonempty)!==this.bool||nonempty)&&(ret=!this.is_empty(value)),ret},is_string:function(value,nonempty){return this.is_type(value,this.string,nonempty)},is_array:function(value,nonempty){return this.is_type(value,this.array,nonempty)},is_bool:function(value){return this.is_type(value,this.bool,!1)},is_obj:function(value,nonempty){return this.is_type(value,this.obj,nonempty)},is_func:function(value){return this.is_type(value,this.func,!1)},is_method:function(obj,value){var ret=!1;if(this.is_string(value)&&(value=[value]),this.in_obj(obj,value)){var t=this;$.each(value,function(idx,val){return ret=t.is_func(obj[val])?!0:!1})}return ret},is_num:function(value,nonempty){return this.is_type(value,this.num,nonempty)&&!isNaN(value)},is_int:function(value,nonempty){return this.is_num(value,nonempty)&&Math.floor(value)===value},is_scalar:function(value,nonempty){return this.is_num(value,nonempty)||this.is_string(value,nonempty)||this.is_bool(value,nonempty)},is_empty:function(value,type){var ret=!1;if(this.is_set(value)&&null!==value&&!1!==value)if(this.is_set(type)||(type=$.type(value)),this.is_type(value,type,!1))switch(type){case this.string:case this.array:0===value.length&&(ret=!0);break;case this.obj:ret=$.isPlainObject(value)&&!$.map(value,function(v,key){return key}).length;break;case this.num:ret=0===value}else ret=!0;else ret=!0;return ret},is_promise:function(obj){return this.is_obj(obj)&&this.is_method(obj,[\"then\",\"done\",\"always\",\"fail\",\"pipe\"])},is_deferred:function(obj){return this.is_promise(obj)&&this.is_method(obj,[\"resolve\",\"reject\",\"promise\"])},validate:function(val,def){return this.is_type(val,def,!0)?val:def},format:function(fmt,val){if(!this.is_string(fmt))return\"\";var params=[],ph=\"%s\";if(arguments.length<2||-1===fmt.indexOf(ph))return fmt;if(params=Array.prototype.slice.call(arguments,1),val=null,1===params.length)fmt=fmt.replace(ph,params[0].toString());else{for(var idx=0,len=params.length,pos=0;(pos=fmt.indexOf(ph))&&len>idx;)fmt=fmt.substr(0,pos)+params[idx].toString()+fmt.substr(pos+ph.length),idx++;fmt=fmt.replace(ph,\"\")}return fmt},in_obj:function(obj,key,all){this.is_bool(all)||(all=!0),this.is_string(key)&&(key=[key]);var ret=!1;if(this.is_obj(obj)&&this.is_array(key))for(var val,x=0;x<key.length&&(val=key[x],ret=this.is_string(val)&&val in obj?!0:!1,!(!all&&ret||all&&!ret));x++);return ret},arr_intersect:function(arr1,arr2){var ret=[];if(arr1===arr2)return arr2;if(!$.isArray(arr2)||!arr2.length||!arr1.length)return ret;var a1,a2,val;arr1.length<arr2.length?(a1=arr1,a2=arr2):(a1=arr2,a2=arr1);for(var x=0;x<a1.length;x++)val=a1[x],-1!==a2.indexOf(val)&&-1===ret.indexOf(val)&&ret.push(val);return ret}}},SLB_Base=Class.extend(Base),Core={base:!0,context:[],Class:SLB_Base,setup_client:function(){$(\"html\").addClass(this.util.get_prefix())}},SLB_Core=SLB_Base.extend(Core);this.SLB=new SLB_Core,this.SLB.setup_client()}(jQuery);";
var mod_pagespeed_dlk9SvPAug = "window.SLB&&SLB.attach&&!function($){var View={assets:{},component_defaults:[],loading:[],viewers:{},items:[],content_handlers:{},groups:{},template_tags:{},collections:{},component_temps:{},options:{ui_animate:!0,slideshow_enabled:!0,slideshow_autostart:!1,slideshow_duration:\"6\"},update_refs:function(){var c,r,ref;for(var p in this)if(this.util.is_func(this[p])&&\"_refs\"in this[p].prototype&&(c=this[p],!this.util.is_empty(c.prototype._refs)))for(r in c.prototype._refs)ref=c.prototype._refs[r],this.util.is_func(ref)||(this.util.is_string(ref)&&ref in this&&(ref=c.prototype._refs[r]=this[ref]),this.util.is_func(ref)||delete c.prototype_refs[r]);this.init_components()},init:function(options){var t=this;$.when.apply($,this.loading).always(function(){$.extend(!0,t.options,options),$(window).on(\"popstate\",function(e){var state=e.originalEvent.state;if(t.util.in_obj(state,[\"item\",\"viewer\"])){var v=t.get_viewer(state.viewer);return v.history_handle(e),e.preventDefault()}}),t.init_items()})},init_components:function(){this.collections={viewers:this.Viewer,items:this.Content_Item,content_handlers:this.Content_Handler,groups:this.Group,themes:this.Theme,template_tags:this.Template_Tag},this.component_defaults=[this.Viewer]},component_make_default:function(type){for(var ret=!1,x=0;x<this.component_defaults.length;x++)if(type===this.component_defaults[x]){ret=!0;break}return ret},check_component:function(comp){return this.util.is_func(comp)&&\"_slug\"in comp.prototype&&comp.prototype instanceof this.Component?!0:!1},get_components:function(type){var ret=null;if(this.util.is_func(type))for(var coll in this.collections)if(type===this.collections[coll]&&coll in this){ret=this[coll];break}return ret},get_component:function(type,id){var ret=null;if(!this.util.is_func(type))return ret;this.util.is_string(id)||(id=null);var coll=this.get_components(type);if(this.util.is_obj(coll)){var tid=this.util.is_string(id)?id:this.util.add_prefix(\"default\");tid in coll&&(ret=coll[tid])}return this.util.is_empty(ret)&&(this.util.is_string(id)||this.component_make_default(type))&&(ret=this.add_component(type,id)),ret},add_component:function(type,id,options){if(!this.util.is_func(type))return!1;if(this.util.is_empty(id)&&!this.component_make_default(type))return!1;var ret=null;this.util.is_empty(id)&&(id=this.util.add_prefix(\"default\")),this.util.is_obj(options)||(options={});var m=\"component\"!==type.prototype._slug?\"add_\"+type.prototype._slug:null;if(ret=!this.util.is_empty(m)&&m in this&&this.util.is_func(this[m])?this[m](id,options):new type(id,options),this.util.is_type(ret,type)){var coll=this.get_components(type);switch($.type(coll)){case\"object\":coll[id]=ret;break;case\"array\":coll.push(ret)}}else ret=null;return ret},add_component_temp:function(type){var ret=null;return this.check_component(type)&&(ret=new type(\"\"),this.component_temps[ret._slug]=ret),ret},get_component_temp:function(type){return this.has_component_temp(type)?this.component_temps[type.prototype._slug]:this.add_component_temp(type)},has_component_temp:function(type){return this.check_component(type)&&type.prototype._slug in this.component_temps?!0:!1},get_options:function(opts){var ret={};if(this.util.is_string(opts)&&(opts=[opts]),!this.util.is_array(opts))return ret;for(var x=0;x<opts.length;x++)opts[x]in this.options&&(ret[opts[x]]=this.options[opts[x]]);return ret},get_option:function(opt,def){var ret=this.get_options(opt);return ret=this.util.is_obj(ret)&&opt in ret?ret[opt]:this.util.is_set(def)?def:null},add_viewer:function(id,options){if(!this.util.is_string(id))return!1;this.util.is_obj(options,!1)||(options={});var v=new this.Viewer(id,options);return this.viewers[v.get_id()]=v,v},get_viewers:function(){return this.viewers},has_viewer:function(v){return this.util.is_string(v)&&v in this.get_viewers()?!0:!1},get_viewer:function(v){return this.has_viewer(v)||(v=this.util.add_prefix(\"default\"),this.has_viewer(v)||this.add_viewer(v)),this.get_viewers()[v]},init_items:function(){var t=this,handler=function(){var ret=t.show_item(this);return t.util.is_bool(ret)||(ret=!0),!ret},sel=this.util.format('a[href][%s=\"%s\"]',this.util.get_attribute(\"active\"),1);$(document).on(\"click\",sel,handler)},get_items:function(){return this.get_components(this.Content_Item)},get_item:function(ref){if(this.util.is_type(ref,this.Content_Item))return ref;var item=null;if(this.util.in_obj(ref,\"nodeType\")){var key=this.get_component_temp(this.Content_Item).get_data_key();item=$(ref).data(key)}else if(this.util.is_int(ref,!1)){var items=this.get_items();items.length>ref&&(item=items[ref])}return this.util.is_type(item,this.Content_Item)||(item=this.add_item(ref)),item},add_item:function(el){var item=new this.Content_Item(el);return item},show_item:function(el){var ret=this.get_item(el).show();return ret},save_item:function(item){var ret=-1;if(!this.util.is_type(item,this.Content_Item))return ret;var items=this.get_items();return ret=$.inArray(item,items),-1===ret&&(ret=items.push(item)-1),ret},get_content_handlers:function(){return this.get_components(this.Content_Handler)},get_content_handler:function(item){var type=this.util.is_type(item,this.Content_Item)?item.get_attribute(\"type\",\"\"):item.toString(),types=this.get_content_handlers();return type in types?types[type]:null},extend_content_handler:function(id,attr){var hdl=!1;if(!this.util.is_string(id)||!this.util.is_obj(attr))return hdl;if(hdl=this.get_content_handler(id),null===hdl){var hdls=this.get_content_handlers();hdls[id]=hdl=new this.Content_Handler(id,attr)}else hdl.set_attributes(attr);return this.util.in_obj(attr,\"styles\")&&this.load_styles(attr.styles),hdl},add_group:function(g,attrs){g=new this.Group(g,attrs),this.util.is_string(g.get_id())&&(this.groups[g.get_id()]=g)},get_groups:function(){return this.groups},get_group:function(g){return this.util.is_string(g)&&(this.has_group(g)||this.add_group(g),g=this.get_groups()[g]),this.util.is_type(g,this.Group)?g:null},has_group:function(g){return this.util.is_string(g)&&g in this.get_groups()?!0:!1},extend_theme:function(id,attr){if(!this.util.is_string(id))return!1;var dfr=$.Deferred();this.loading.push(dfr);var model=this.get_theme_model(id);return this.util.is_empty(model)&&(model={parent:null,id:id},this.Theme.prototype._models[id]=model),this.util.is_obj(attr)&&(\"id\"in attr&&delete attr.id,$.extend(model,attr)),this.util.in_obj(attr,\"styles\")&&this.load_styles(attr.styles),this.util.is_string(model.parent)&&(model.parent=this.get_theme_model(model.parent)),dfr.resolve(),model},get_theme_models:function(){return this.Theme.prototype._models},get_theme_model:function(id){var ms=this.get_theme_models();return this.util.in_obj(ms,id)?ms[id]:{}},extend_template_tag_handler:function(id,attr){var hdl=!1;if(!this.util.is_string(id)||!this.util.is_obj(attr))return hdl;var hdls=this.get_template_tag_handlers();return this.util.in_obj(hdls,id)?(hdl=hdls[id],hdl.set_attributes(attr)):hdls[id]=hdl=new this.Template_Tag_Handler(id,attr),this.util.in_obj(attr,\"styles\")&&this.load_styles(attr.styles),this.util.in_obj(attr,\"_hooks\")&&attr._hooks.call(hdl),hdl},get_template_tag_handlers:function(){return this.Template_Tag.prototype.handlers},get_template_tag_handler:function(id){var handlers=this.get_template_tag_handlers();return this.util.is_string(id)&&id in handlers?handlers[id]:new this.Template_Tag_Handler(id,{})},load_styles:function(styles){if(this.util.is_array(styles)){var out=\"\";$.each(styles,function(i,style){out+='<link rel=\"stylesheet\" type=\"text/css\" href=\"'+style.uri+'\" />'}),$(\"head\").append(out)}}},Component={_slug:\"component\",_refs:{},_containers:[],_reciprocal:!1,_dom:null,_attr_default:{},_attr_init:null,_attr_parent:[],_attr_map:{},_events:{},_status:null,attributes:!1,id:\"\",_c:function(id,attributes){this.set_id(id),this._attr_init=attributes,this._hooks()},_set_parent:function(){this._parent=View,this.util._parent=this},_hooks:function(){},get_status:function(id,raw){var ret=!1;return this.util.in_obj(this._status,id)&&(ret=raw?this._status[id]:!!this._status[id]),ret},set_status:function(id,val){return this.util.is_string(id)?(this.util.is_set(val)||(val=!0),this.util.is_obj(this._status,!1)||(this._status={}),this._status[id]=val):this.util.is_set(val)||(val=!1),val},get_id:function(ns){this.check_id()||(this.id=\"\");var id=this.id;return this.util.is_bool(ns)&&ns&&(id=this.add_ns(id)),id},set_id:function(id){this.id=this.check_id(id)?id:\"\"},check_id:function(id,nonempty){return 1===arguments.length&&this.util.is_bool(arguments[0])&&(nonempty=arguments[0],id=null),this.util.is_empty(id)&&(id=this.id),this.util.is_bool(nonempty)||(nonempty=!1),this.util.is_string(id,nonempty)?!0:!1},get_ns:function(){return this.util.add_prefix(this._slug)},add_ns:function(val){return this.util.is_string(val)?this.get_ns()+\"_\"+val:\"\"},get_containers:function(){return this.util.is_array(this._containers)||(this._containers=[]),this._containers},has_containers:function(){return this.get_containers().length>0},has_reference:function(ref){return this.util.is_string(ref)&&ref in this&&ref in this.get_references()?!0:!1},get_references:function(){return this._refs},get_reference:function(ref){return this.has_reference(ref)?this._refs[ref]:null},check_component:function(comp,ctype){return this.util.is_empty(comp)||this.util.is_obj(comp)&&!this.util.is_func(ctype)||this.util.is_string(comp)&&!this.has_reference(comp)||this.util.is_empty(ctype)&&!this.util.is_string(comp)||!this.util.is_obj(comp)&&!this.util.is_string(comp)?!1:(this.util.is_func(ctype)||(ctype=this.get_reference(comp)),this.util.is_string(comp)&&(comp=this.get_component(comp,!1)),this.util.is_type(comp,ctype))},get_component:function(cname,check_attr,get_default,recursive){var c=null;if(!(this.util.is_string(cname)&&cname in this&&this.has_reference(cname)))return c;this.util.is_bool(check_attr)||(check_attr=!0),this.util.is_bool(get_default)||(get_default=!0),this.util.is_bool(recursive)||(recursive=!0);var ctype=this._refs[cname];if(this.util.is_type(this[cname],ctype))return this[cname];if(c=this[cname]=null,check_attr&&(c=this.get_attribute(cname),this.util.is_empty(c)||(c=this.set_component(cname,c))),recursive&&this.util.is_empty(c)&&this.has_containers())for(var containers=this.get_containers(),con=null,i=0;i<containers.length&&(con=containers[i],con===cname||(con=this.get_component(con,!0,!1),this.util.is_empty(con)||(c=con.get_component(cname),this.util.is_empty(c))));i++);return get_default&&this.util.is_empty(c)&&(c=this.get_parent().get_component(ctype)),c},set_component:function(name,ref,validate){var clear=null;if(!this.has_reference(name))return clear;this.util.is_empty(ref)&&(ref=clear);var ctype=this.get_reference(name);return this.util.is_string(ref)&&(ref=this.get_parent().get_component(ctype,ref)),this.util.is_type(ref,ctype)||(ref=clear),this.util.is_empty(ref)||!this.util.is_func(validate)||validate.call(this,ref)||(ref=clear),this[name]=ref,this[name]},init_attributes:function(force){if(this.util.is_bool(force)||(force=!1),force||!this.util.is_obj(this.attributes)){this.attributes={};var attrs=[{}];attrs.push(this.init_default_attributes()),this.dom_has()&&attrs.push(this.get_dom_attributes()),this.util.is_obj(this._attr_init)&&attrs.push(this._attr_init),this.attributes=$.extend.apply(null,attrs)}},init_default_attributes:function(){var opts=this.get_parent().get_options(this._attr_parent);if(this.util.is_obj(opts)){for(var opt in this._attr_map)opt in opts&&(opts[this._attr_map[opt]]=opts[opt],delete opts[opt]);$.extend(!0,this._attr_default,opts)}return this._attr_default},get_dom_attributes:function(){var attrs={},el=this.dom_get();if(el.length){var opts=$(el).get(0).attributes;if(this.util.is_obj(opts)){var attr_prefix=this.util.get_attribute();$.each(opts,function(idx,opt){if(-1===opt.name.indexOf(attr_prefix))return!0;var key=opt.name.substr(attr_prefix.length+1);attrs[key]=opt.value})}}return attrs},get_attributes:function(){return this.init_attributes(),this.attributes},get_attribute:function(key,def,enforce_type){if(this.util.is_set(def)||(def=null),!this.util.is_string(key))return def;this.util.is_bool(enforce_type)||(enforce_type=!0);var ret=this.has_attribute(key)?this.get_attributes()[key]:def;return enforce_type&&ret!==def&&null!==def&&!this.util.is_type(ret,$.type(def),!1)&&(this.util.is_scalar(def,!1)?this.util.is_scalar(ret,!1)?this.util.is_string(def,!1)?ret=ret.toString():this.util.is_num(def,!1)&&!this.util.is_num(ret,!1)?(ret=this.util.is_int(def,!1)?parseInt(ret):parseFloat(ret),this.util.is_num(ret,!1)||(ret=def)):ret=this.util.is_bool(def,!1)?this.util.is_string(ret)||this.util.is_num(ret):def:ret=def:ret=def),ret},call_attribute:function(attr,args){return attr=this.get_attribute(attr),this.util.is_func(attr)&&(args=Array.prototype.slice.call(arguments,1),attr=attr.apply(this,args)),attr},has_attribute:function(key){return key in this.get_attributes()},set_attributes:function(attributes,full){this.util.is_bool(full)||(full=!1),this.init_attributes(full),this.util.is_obj(attributes)&&$.extend(this.attributes,attributes)},set_attribute:function(key,val){return this.util.is_string(key)&&this.util.is_set(val)&&(this.get_attributes()[key]=val),val},dom_get_selector:function(element){return this.util.is_string(element)?\".\"+this.add_ns(element):\"\"},dom_get_attribute:function(){return this.util.get_attribute(this._slug)},dom_set:function(el){return el=$(el),el.data(this.get_data_key(),this),this._reciprocal&&(this._dom=el),el},dom_get:function(element,put,options){this.get_status(\"dom_init\")||(this.set_status(\"dom_init\"),this.dom_init());var ret=this._dom;if(ret&&this.util.is_string(element)){var ch=$(ret).find(this.dom_get_selector(element));ch.length?ret=ch:this.util.is_bool(put)&&put&&(ret=this.dom_put(element,options))}return $(ret)},dom_init:function(){},dom_put:function(element,content){var r=null;if(!this.dom_has()||!this.util.is_string(element))return $(r);var strip=[\"tag\",\"content\",\"put_success\"],options={tag:\"div\",content:\"\",\"class\":this.add_ns(element)};this.util.is_empty(content)||(this.util.is_type(content,jQuery,!1)||this.util.is_string(content,!1)?options.content=content:this.util.is_obj(content,!1)&&$.extend(options,content));for(var attrs=$.extend({},options),x=0;x<strip.length;x++)delete attrs[strip[x]];var d=this.dom_get();return r=$(this.dom_get_selector(element),d),r.length||(r=$(this.util.format(\"<%s />\",options.tag),attrs).appendTo(d),r.length&&this.util.is_method(options,\"put_success\")&&options.put_success.call(r,r)),$(r).append(options.content),$(r)},dom_has:function(){return!!this.dom_get().length},get_data_key:function(){return this.get_ns()},on:function(event,fn,options){if(!this.util.is_string(event)||!this.util.is_func(fn)){var t=this,args=Array.prototype.slice.call(arguments,1);return this.util.is_array(event)?$.each(event,function(idx,val){t.on.apply(t,[val].concat(args))}):this.util.is_obj(event)&&$.each(event,function(ev,hdl){t.on.apply(t,[ev,hdl].concat(args))}),this}var options_std={clear:!1};this.util.is_obj(options,!1)||(options={}),options=$.extend({},options_std,options),this.util.is_obj(this._events,!1)||(this._events={});var es=this._events;return event in es&&this.util.is_obj(es[event],!1)&&!options.clear||(es[event]=[]),es[event].push(fn),this},trigger:function(event,data){var dfr=$.Deferred(),dfrs=[],t=this;if(this.util.is_array(event))return $.each(event,function(idx,val){dfrs.push(t.trigger(val,data))}),$.when.apply(t,dfrs).done(function(){dfr.resolve()}),dfr.promise();if(!(this.util.is_string(event)&&event in this._events))return dfr.resolve(),dfr.promise();var ev={type:event,data:null};return this.util.is_set(data)&&(ev.data=data),$.each(this._events[event],function(idx,fn){dfrs.push(fn.call(t,ev,t))}),$.when.apply(this,dfrs).done(function(){dfr.resolve()}),dfr.promise()}};View.Component=Component=SLB.Class.extend(Component);var Viewer={_slug:\"viewer\",_refs:{item:\"Content_Item\",theme:\"Theme\"},_reciprocal:!0,_attr_default:{loop:!0,animate:!0,autofit:!0,overlay_enabled:!0,overlay_opacity:\"0.8\",title_default:!1,container:null,slideshow_enabled:!0,slideshow_autostart:!0,slideshow_duration:2,slideshow_active:!1,slideshow_timer:null,labels:{close:\"close\",nav_prev:\"&laquo; prev\",nav_next:\"next &raquo;\",slideshow_start:\"start slideshow\",slideshow_stop:\"stop slideshow\",group_status:\"Image %current% of %total%\",loading:\"loading\"}},_attr_parent:[\"theme\",\"group_loop\",\"ui_autofit\",\"ui_animate\",\"ui_overlay_opacity\",\"ui_labels\",\"ui_title_default\",\"slideshow_enabled\",\"slideshow_autostart\",\"slideshow_duration\"],_attr_map:{group_loop:\"loop\",ui_autofit:\"autofit\",ui_animate:\"animate\",ui_overlay_opacity:\"overlay_opacity\",ui_labels:\"labels\",ui_title_default:\"title_default\"},item:null,item_queued:null,theme:null,item_working:null,active:!1,init:!1,open:!1,loading:!1,_hooks:function(){var t=this;this.on([\"item-prev\",\"item-next\"],function(){t.trigger(\"item-change\")}).on([\"close\",\"item-change\"],function(){t.unload().done(function(){t.unlock()})})},set_item:function(item){this.clear_item(!1);var i=this.set_component(\"item\",item,function(item){return item.has_type()});return!this.util.is_empty(i)},clear_item:function(full){this.util.is_bool(full)||(full=!0);var item=this.get_item();item&&item.reset(),full&&this.set_item(!1)},get_item:function(){return this.get_component(\"item\",!0,!1)},get_theme:function(){var ret=this.get_component(\"theme\",!1,!1,!1);return this.util.is_empty(ret)&&(ret=this.set_component(\"theme\",new View.Theme(this))),ret},set_theme:function(theme){this.set_component(\"theme\",theme)},lock:function(){return this.set_status(\"item_working\",$.Deferred())},get_lock:function(simple,full){this.util.is_bool(simple)||(simple=!1),this.util.is_bool(full)||(full=!1);var s=\"item_working\";if(simple)return this.get_status(s);var r=this.get_status(s,!0);return this.util.is_promise(r)||(r=this.lock()),full?r:r.promise()},is_locked:function(){return this.get_lock(!0)},unlock:function(){return this.get_lock(!1,!0).resolve()},set_active:function(mode){return this.util.is_bool(mode)||(mode=!0),this.set_status(\"active\",mode)},is_active:function(){return this.get_status(\"active\")},set_loading:function(mode){var dfr=$.Deferred();this.util.is_bool(mode)||(mode=!0),this.loading=mode,this.slideshow_active()&&this.slideshow_pause(mode);var m=mode?\"addClass\":\"removeClass\";return $(this.dom_get())[m](\"loading\"),mode?this.get_theme().transition(\"load\").always(function(){dfr.resolve()}):dfr.resolve(),dfr.promise()},unset_loading:function(){return this.set_loading(!1)},get_loading:function(){return this.util.is_bool(this.loading)?this.loading:!1},is_loading:function(){return this.get_loading()},show:function(item){this.item_queued=item;var fin_set=\"show_deferred\",vt=\"theme_valid\",valid=!0;if(this.has_attribute(vt)?valid=this.get_attribute(vt,!0):(valid=this.get_theme()&&\"\"!==this.get_theme().get_template().get_layout(!1)?!0:!1,this.set_attribute(vt,valid)),!valid)return this.close(),!1;var v=this,fin=function(){return v.lock(),v.set_status(fin_set,!1),v.set_item(v.item_queued)?(v.history_add(),v.set_active(),v.render(),void 0):(v.close(),!1)};this.is_locked()?this.get_status(fin_set)||(this.set_status(fin_set),this.get_lock().always(function(){fin()})):fin()},history_handle:function(e){var state=e.originalEvent.state;if(this.util.is_int(state.item,!1))this.get_parent().get_item(state.item).show({event:e}),this.trigger(\"item-change\");else{var count=this.history_get(!0);this.history_set(0),-1!==count&&this.close()}},history_get:function(full){return this.get_status(\"history_count\",full)},history_set:function(val){return this.set_status(\"history_count\",val)},history_add:function(){if(!history.pushState)return!1;var item=this.get_item(),opts=item.get_attribute(\"options_show\"),count=this.history_get()?this.history_get(!0):0;if(this.util.in_obj(opts,\"event\")){var e=opts.event.originalEvent;this.util.in_obj(e,\"state\")&&this.util.in_obj(e.state,\"count\")&&(count=e.state.count)}else{var state={viewer:this.get_id(),item:null,count:count};count||history.replaceState(state,null),state.item=this.get_parent().save_item(item),state.count=++count,history.pushState(state,\"\")}this.history_set(count)},history_reset:function(){var count=this.history_get(!0);count&&(this.history_set(-1),history.go(-1*count))},is_open:function(){return\"none\"===this.dom_get().css(\"display\")?!1:!0},render:function(){var v=this,thm=this.get_theme();v.dom_prep(),this.get_status(\"render-events\")||(this.set_status(\"render-events\"),thm.on(\"render-loading\",function(ev,thm){var dfr=$.Deferred();if(!v.is_active())return dfr.reject(),dfr.promise();var set_pos=function(){v.dom_get().css(\"top\",$(window).scrollTop())},always=function(){v.set_loading().always(function(){dfr.resolve()})};return v.is_open()?thm.transition(\"unload\").fail(function(){set_pos(),thm.dom_get_tag(\"item\",\"content\").attr(\"style\",\"\")}).always(always):thm.transition(\"open\").always(function(){always(),v.events_open(),v.open=!0}).fail(function(){set_pos(),v.get_overlay().show(),v.dom_get().show()}),dfr.promise()}).on(\"render-complete\",function(ev,thm){if(!v.is_active())return!1;var d=v.dom_get(),classes=[\"item_single\",\"item_multi\"],ms=[\"addClass\",\"removeClass\"];v.get_item().get_group().is_single()||ms.reverse(),$.each(ms,function(idx,val){d[val](classes[idx])}),v.events_complete(),thm.transition(\"complete\").fail(function(){if(v.get_attribute(\"autofit\",!0)){var dims=$.extend({display:\"inline-block\"},thm.get_item_dimensions());thm.dom_get_tag(\"item\",\"content\").css(dims)}}).always(function(){v.unset_loading(),v.trigger(\"render-complete\"),v.init=!0})})),thm.render()},dom_get_container:function(){var sel=this.get_attribute(\"container\");this.util.is_empty(sel)&&(sel=\"#\"+this.add_ns(\"wrap\"));var c=$(sel);if(!c.length){var id=0===sel.indexOf(\"#\")?sel.substr(1):sel;c=$(\"<div />\",{id:id}).appendTo(\"body\")}return c},dom_init:function(){var d=this.dom_set($(\"<div/>\",{id:this.get_id(!0),\"class\":this.get_ns()})).appendTo(this.dom_get_container()).hide(),thm=this.get_theme();d.addClass(thm.get_classes(\" \"));var v=this;this.get_status(\"render-init\")||(this.set_status(\"render-init\"),thm.on(\"render-init\",function(ev){v.dom_put(\"layout\",ev.data)})),thm.render(!0)},dom_prep:function(mode){var m=this.util.is_bool(mode)&&!mode?\"removeClass\":\"addClass\";$(\"html\")[m](this.util.add_prefix(\"overlay\"))},dom_restore:function(){this.dom_prep(!1)},get_layout:function(){var ret=this.dom_get(\"layout\",!0,{put_success:function(){$(this).hide()}});return ret},animation_enabled:function(){return this.get_attribute(\"animate\",!0)},overlay_enabled:function(){var ov=this.get_attribute(\"overlay_enabled\");return this.util.is_bool(ov)?ov:!1},get_overlay:function(){var o=null,v=this;return this.overlay_enabled()&&(o=this.dom_get(\"overlay\",!0,{put_success:function(){$(this).hide().css(\"opacity\",v.get_attribute(\"overlay_opacity\"))}})),$(o)},unload:function(){var dfr=$.Deferred();return this.get_theme().dom_get_tag(\"item\").text(\"\"),dfr.resolve(),dfr.promise()},reset:function(){this.dom_get().hide(),this.dom_restore(),this.history_reset(),this.clear_item(),this.set_active(!1),this.set_loading(!1),this.slideshow_stop(),this.keys_disable(),this.unlock()},get_labels:function(){return this.get_attribute(\"labels\",{})},get_label:function(name){var lbls=this.get_labels();return name in lbls?lbls[name]:\"\"},events_open:function(){if(this.keys_enable(),this.open)return!1;var l=this.get_layout();l.children().click(function(ev){ev.stopPropagation()});var v=this,close=function(){v.close()};l.click(close),this.get_overlay().click(close),this.trigger(\"events-open\")},events_complete:function(){return this.init?!1:(this.trigger(\"events-complete\"),void 0)},keys_enable:function(mode){this.util.is_bool(mode)||(mode=!0);var e=[\"keyup\",this.util.get_prefix()].join(\".\"),v=this,h=function(ev){return v.keys_control(ev)};mode?$(document).on(e,h):$(document).off(e)},keys_disable:function(){this.keys_enable(!1)},keys_control:function(ev){var handlers={27:this.close,37:this.item_prev,39:this.item_next};return ev.which in handlers?(handlers[ev.which].call(this),!1):void 0},slideshow_enabled:function(){var o=this.get_attribute(\"slideshow_enabled\");return this.util.is_bool(o)&&o&&this.get_item()&&!this.get_item().get_group().is_single()?!0:!1},slideshow_active:function(){return this.slideshow_enabled()&&(this.get_attribute(\"slideshow_active\")||!this.init&&this.get_attribute(\"slideshow_autostart\"))?!0:!1},slideshow_clear_timer:function(){clearInterval(this.get_attribute(\"slideshow_timer\"))},slideshow_set_timer:function(callback){this.set_attribute(\"slideshow_timer\",setInterval(callback,1e3*this.get_attribute(\"slideshow_duration\")))},slideshow_start:function(){if(!this.slideshow_enabled())return!1;this.set_attribute(\"slideshow_active\",!0),this.dom_get().addClass(\"slideshow_active\"),this.slideshow_clear_timer();var v=this;this.slideshow_set_timer(function(){v.slideshow_pause(),v.item_next()}),this.trigger(\"slideshow-start\")},slideshow_stop:function(full){this.util.is_bool(full)||(full=!0),full&&(this.set_attribute(\"slideshow_active\",!1),this.dom_get().removeClass(\"slideshow_active\")),this.slideshow_clear_timer(),this.trigger(\"slideshow-stop\")},slideshow_toggle:function(){return this.slideshow_enabled()?(this.slideshow_active()?this.slideshow_stop():this.slideshow_start(),this.trigger(\"slideshow-toggle\"),void 0):!1},slideshow_pause:function(mode){this.util.is_bool(mode)||(mode=!0),this.slideshow_active()&&(mode?this.slideshow_stop(!1):this.slideshow_start()),this.trigger(\"slideshow-pause\")},slideshow_resume:function(){this.slideshow_pause(!1)},item_next:function(){var g=this.get_item().get_group(!0),v=this,ev=\"item-next\",st=[\"events\",\"viewer\",ev].join(\"_\");g.get_status(st)||(g.set_status(st),g.on(ev,function(e){v.trigger(e.type)})),g.show_next()},item_prev:function(){var g=this.get_item().get_group(!0),v=this,ev=\"item-prev\",st=[\"events\",\"viewer\",ev].join(\"_\");g.get_status(st)||(g.set_status(st),g.on(ev,function(){v.trigger(ev)})),g.show_prev()},close:function(){this.set_active(!1);var v=this,thm=this.get_theme();return thm.transition(\"unload\").always(function(){thm.transition(\"close\",!0).always(function(){v.reset(),v.trigger(\"close\")})}).fail(function(){thm.dom_get_tag(\"item\",\"content\").attr(\"style\",\"\")}),!1}};View.Viewer=Component.extend(Viewer);var Group={_slug:\"group\",_reciprocal:!0,_refs:{current:\"Content_Item\"},current:null,selector:null,_hooks:function(){var t=this;this.on([\"item-prev\",\"item-next\"],function(){t.trigger(\"item-change\")})},get_selector:function(){return this.util.is_empty(this.selector)&&(this.selector=this.util.format('a[%s=\"%s\"]',this.dom_get_attribute(),this.get_id())),this.selector},get_items:function(){var items=this.util.is_empty(this.get_id())?this.get_current().dom_get():$(this.get_selector());return items},get_item:function(idx){this.util.is_int(idx)||(idx=0);var items=this.get_items(),max=this.get_size()-1;return idx>max&&(idx=max),items.get(idx)},get_pos:function(item){return this.util.is_empty(item)&&(item=this.get_current()),this.util.is_type(item,View.Content_Item)?this.get_items().index(item.dom_get()):-1},get_current:function(){return this.util.is_empty(this.current)||this.util.is_type(this.current,View.Content_Item)||(this.current=null),this.current},set_current:function(item){this.util.is_type(item,View.Content_Item)&&(this.current=item)},get_next:function(item){if(this.util.is_type(item,View.Content_Item)||(item=this.get_current()),1===this.get_size())return item;var next=null,pos=this.get_pos(item);return-1!==pos&&(pos=pos+1<this.get_size()?pos+1:0,(0!==pos||item.get_viewer().get_attribute(\"loop\"))&&(next=this.get_item(pos))),next},get_prev:function(item){if(this.util.is_type(item,View.Content_Item)||(item=this.get_current()),1===this.get_size())return item;var prev=null,pos=this.get_pos(item);return-1===pos||0===pos&&!item.get_viewer().get_attribute(\"loop\")||(0===pos&&(pos=this.get_size()),pos-=1,prev=this.get_item(pos)),prev},show_next:function(item){if(this.get_size()>1){var next=this.get_next(item);next||(this.util.is_type(item,View.Content_Item)||(item=this.get_current()),item.get_viewer().close());var i=this.get_parent().get_item(next);this.set_current(i),i.show(),this.trigger(\"item-next\")}},show_prev:function(item){if(this.get_size()>1){var prev=this.get_prev(item);prev||(this.util.is_type(item,View.Content_Item)||(item=this.get_current()),item.get_viewer().close());var i=this.get_parent().get_item(prev);this.set_current(i),i.show(),this.trigger(\"item-prev\")}},get_size:function(){return this.get_items().length},is_single:function(){return 1===this.get_size()}};View.Group=Component.extend(Group);var Content_Handler={_slug:\"content_handler\",_refs:{item:\"Content_Item\"},item:null,template:\"\",has_item:function(){return this.util.is_empty(this.get_item())?!1:!0},get_item:function(){return this.get_component(\"item\",!0,!1)},set_item:function(item){var r=this.set_component(\"item\",item);return r},clear_item:function(){this.item=null},match:function(item){var attr=\"match\",m=this.get_attribute(attr);if(!this.util.is_empty(m)){if(this.util.is_string(m)&&(m=new RegExp(m,\"i\"),this.set_attribute(attr,m)),this.util.is_type(m,RegExp))return m.test(item.get_uri());if(this.util.is_func(m))return m.call(this,item)?!0:!1}return!1},load:function(item){var dfr=$.Deferred(),ret=this.call_attribute(\"load\",item,dfr);return null===ret&&dfr.resolve(),dfr.promise()},render:function(item){var dfr=$.Deferred();return this.call_attribute(\"render\",item,dfr),dfr.promise()}};View.Content_Handler=Component.extend(Content_Handler);var Content_Item={_slug:\"content_item\",_reciprocal:!0,_refs:{viewer:\"Viewer\",group:\"Group\",type:\"Content_Handler\"},_containers:[\"group\"],_attr_default:{source:null,permalink:null,dimensions:null,title:\"\",group:null,internal:!1,output:null},group:null,viewer:null,type:null,data:null,loaded:null,_c:function(el){this.dom_set(el),this._super()},init_default_attributes:function(){this._super();var d=this.dom_get(),key=d.attr(\"href\")||null,assets=this.get_parent().assets||null;if(this.util.is_string(key)){var attrs=[{},this._attr_default,{permalink:key}];if(this.util.is_obj(assets)){var t=this,get_assets=function(key){var ret={};return key in assets&&t.util.is_obj(assets[key])&&(ret=assets[key],\"_parent\"in ret&&(ret=get_assets(ret._parent))),ret};attrs.push(get_assets(key))}this._attr_default=$.extend.apply(this,attrs)}return this._attr_default},get_output:function(){var dfr=$.Deferred(),ret=this.get_attribute(\"output\");if(this.util.is_string(ret))dfr.resolve(ret);else if(this.has_type()){var type=this.get_type(),item=this;type.render(this).done(function(output){item.set_output(output),dfr.resolve(output)})}else dfr.resolve(\"\");return dfr.promise()},set_output:function(out){this.util.is_string(out,!1)&&this.set_attribute(\"output\",out)},get_content:function(){return this.get_output()},get_uri:function(mode){-1===$.inArray(mode,[\"source\",\"permalink\"])&&(mode=\"source\");var ret=this.get_attribute(mode);return this.util.is_string(ret)||(ret=\"source\"===mode?this.get_attribute(\"permalink\"):\"\"),ret},get_title:function(){var prop=\"title\",prop_cached=prop+\"_cached\";if(this.has_attribute(prop_cached))return this.get_attribute(prop_cached,\"\");var title=\"\",sel_cap=\".wp-caption-text\",dom=this.dom_get();if(dom.length&&!this.in_gallery()&&(title=dom.attr(prop),title||(title=dom.siblings(sel_cap).html())),!title)for(var props=[\"caption\",\"title\"],x=0;x<props.length&&(title=this.get_attribute(props[x],\"\"),this.util.is_empty(title));x++);if(!title&&dom.length&&(title=dom.find(\"img\").first().attr(\"alt\"),title||(title=dom.text())),this.util.is_string(title,!1)||(title=\"\"),!this.util.is_empty(title)&&!this.get_viewer().get_attribute(\"title_default\")){var f=this.get_uri(\"source\"),i=f.lastIndexOf(\"/\");-1!==i&&(f=f.substr(i+1),i=f.lastIndexOf(\".\"),-1!==i&&(f=f.substr(0,i)),title===f&&(title=\"\"))}return this.set_attribute(prop_cached,title),title},get_dimensions:function(){return $.extend({width:0,height:0},this.get_attribute(\"dimensions\"),{})},set_data:function(data){this.data=data},get_data:function(){return this.data},gallery_type:function(){var ret=null,types={wp:\".gallery-icon\",ngg:\".ngg-gallery-thumbnail\"},dom=this.dom_get();for(var type in types)if(dom.parent(types[type]).length>0){ret=type;break}return ret},in_gallery:function(gType){var type=this.gallery_type();return null===type?!1:this.util.is_string(gType)?gType===type?!0:!1:!0},get_viewer:function(){return this.get_component(\"viewer\")},set_viewer:function(v){return this.set_component(\"viewer\",v)},get_group:function(set_current){var prop=\"group\",g=this.get_component(prop,!0,!1,!1);return g||(g=this.set_component(prop,new View.Group),set_current=!0),set_current&&g.set_current(this),g},set_group:function(g){this.util.is_string(g)&&(g=this.get_parent().get_group(g)),this.group=this.util.is_type(g,View.Group)?g:!1},get_type:function(){var t=this.get_component(\"type\",!1,!1,!1);return t||(t=this.set_type(this.get_parent().get_content_handler(this))),t},set_type:function(type){return this.set_component(\"type\",type)},has_type:function(){var ret=!this.util.is_empty(this.get_type());return ret},show:function(options){if(!this.has_type())return!1;this.set_attribute(\"options_show\",options);var v=this.get_viewer();this.load();var ret=v.show(this);return ret},load:function(){return this.util.is_promise(this.loaded)||(this.loaded=this.get_type().load(this)),this.loaded.promise()},reset:function(){this.set_attribute(\"options_show\",null)}};View.Content_Item=Component.extend(Content_Item);var Modeled_Component={_slug:\"modeled_component\",get_attribute:function(key,def,check_model,enforce_type){if(!this.util.is_string(key))return this._super(key,def,enforce_type);this.util.is_bool(check_model)||(check_model=!0);var ret=null;if(check_model){var m=this.get_ancestor(key,!1);this.util.in_obj(m,key)&&(ret=m[key])}return null===ret&&(ret=this._super(key,def,enforce_type)),ret},get_attribute_recursive:function(key,def,enforce_type){var ret=this.get_attribute(key,def,!0,enforce_type);if(this.util.is_obj(ret)){var models=this.get_ancestors(!1);ret=[ret];var t=this;$.each(models,function(idx,model){key in model&&t.util.is_obj(model[key])&&ret.push(model[key])}),ret.push({}),ret=$.extend.apply($,ret.reverse())}return ret},set_attribute:function(key,val,use_model){if(!this.util.is_string(key)||!this.util.is_set(val))return!1;if(this.util.is_bool(use_model)||this.util.is_obj(use_model)||(use_model=!0),use_model){var model=this.util.is_obj(use_model)?use_model:this.get_model();model[key]=val}else this._super(key,val);return val},get_model:function(){var m=this.get_attribute(\"model\",null,!1);return this.util.is_obj(m)||(m={},this.set_attribute(\"model\",m,!1)),m},has_model:function(){return this.util.is_empty(this.get_model())?!1:!0},in_model:function(key){return this.util.in_obj(this.get_model(),key)?!0:!1},get_ancestors:function(inc_current){for(var ret=[],m=this.get_model();this.util.is_obj(m);)ret.push(m),m=this.util.in_obj(m,\"parent\")&&this.util.is_obj(m.parent)?m.parent:null;return inc_current||ret.shift(),ret},get_ancestor:function(attr,safe_mode){if(!this.util.is_string(attr))return!1;this.util.is_bool(safe_mode)||(safe_mode=!0);for(var mcurr=this.get_model(),m=mcurr,found=!1;this.util.is_obj(m);){if(this.util.in_obj(m,attr)&&!this.util.is_empty(m[attr])){found=!0;break}m=this.util.in_obj(m,\"parent\")?m.parent:null}return found||(safe_mode?(this.util.is_empty(m)&&(m=mcurr),this.util.in_obj(m,attr)||(m[attr]=null)):m=null),m}};Modeled_Component=Component.extend(Modeled_Component);var Theme={_slug:\"theme\",_refs:{viewer:\"Viewer\",template:\"Template\"},_models:{},_containers:[\"viewer\"],_attr_default:{template:null,model:null},viewer:null,template:null,_c:function(id,attributes,viewer){1===arguments.length&&this.util.is_type(arguments[0],View.Viewer)&&(viewer=arguments[0],id=null),this._super(id,attributes),this.set_viewer(viewer),this.set_model(id)},get_viewer:function(){return this.get_component(\"viewer\",!1,!0,!1)},set_viewer:function(v){return this.set_component(\"viewer\",v)},get_template:function(){var ret=this.get_component(\"template\",!0,!1,!1);if(this.util.is_empty(ret)){var attr={theme:this,model:this.get_model()};ret=this.set_component(\"template\",new View.Template(attr))}return ret},get_tags:function(name,prop){return this.get_template().get_tags(name,prop)},dom_get_tag:function(tag,prop){return $(this.get_template().dom_get_tag(tag,prop))},get_tag_selector:function(name,prop){return this.get_template().get_tag_selector(name,prop)},get_models:function(){return this._models},get_model:function(id){var ret=null;if(!this.util.is_set(id)&&this.util.is_obj(this.get_attribute(\"model\",null,!1)))ret=this._super();else{var models=this.get_models();this.util.is_string(id)||(id=this.get_parent().get_option(\"theme_default\")),this.util.in_obj(models,id)||(id=$.map(models,function(v,key){return key})[0]),ret=models[id]}return ret},set_model:function(id){if(this.set_attribute(\"model\",this.get_model(id),!1),!this.check_id(!0)){var m=this.get_model();\"id\"in m&&this.set_id(m.id)}},get_classes:function(rtype){var cls=[],thm=this,models=this.get_ancestors(!0);return $.each(models,function(idx,model){cls.push(thm.add_ns(model.id))}),this.util.is_string(rtype)&&(cls=cls.join(rtype)),cls},get_measurement:function(attr,def){var meas=null;if(!this.util.is_string(attr))return meas;this.util.is_obj(def,!1)||(def={});var attr_cache=this.util.format(\"%s_cache\",attr),cache=this.get_attribute(attr_cache,{},!1),status=\"_status\",item=this.get_viewer().get_item(),w=$(window);status in cache&&this.util.is_obj(cache[status])&&cache[status].width===w.width()&&cache[status].height===w.height()||(cache={}),this.util.is_empty(cache)&&(cache[status]={width:w.width(),height:w.height(),index:[]});var pos=$.inArray(item,cache[status].index);return-1!==pos&&pos in cache&&(meas=cache[pos]),this.util.is_obj(meas)||(meas=this.call_attribute(attr),this.util.is_obj(meas)||(meas=this.get_measurement_default(attr))),meas=this.util.is_obj(meas)?$.extend({},def,meas):def,pos=cache[status].index.push(item)-1,cache[pos]=meas,this.set_attribute(attr_cache,cache,!1),$.extend({},meas)},get_measurement_default:function(attr){return this.util.is_string(attr)?(attr=this.util.format(\"get_%s_default\",attr),this.util.in_obj(this,attr)?(attr=this[attr],this.util.is_func(attr)&&(attr=attr.call(this))):attr=null,attr):null},get_offset:function(){return this.get_measurement(\"offset\",{width:0,height:0})},get_offset_default:function(){var offset={width:0,height:0},v=this.get_viewer(),vn=v.dom_get(),vc=vn.clone().attr(\"id\",\"\").css({visibility:\"hidden\",position:\"absolute\",top:\"\"}).removeClass(\"loading\").appendTo(vn.parent()),l=vc.find(v.dom_get_selector(\"layout\"));if(l.length){l.find(\"*\").css({width:\"\",height:\"\",display:\"\"});var tags=this.get_tags(\"item\",\"content\");if(tags.length){var offset_item=v.get_item().get_dimensions();tags=$(l.find(tags[0].get_selector(\"full\")).get(0)).css({width:offset_item.width,height:offset_item.height}),$.each(offset_item,function(key,val){offset[key]=-1*val})}offset.width+=l.width(),offset.height+=l.height(),$.each(offset,function(key,val){0>val&&(offset[key]=0)})}return vc.empty().remove(),offset},get_margin:function(){return this.get_measurement(\"margin\",{width:0,height:0})},get_item_dimensions:function(){var v=this.get_viewer(),dims=v.get_item().get_dimensions();if(v.get_attribute(\"autofit\",!1)){var margin=this.get_margin(),offset=this.get_offset();offset.height+=margin.height,offset.width+=margin.width;var max={width:$(window).width(),height:$(window).height()};max.width>offset.width&&(max.width-=offset.width),max.height>offset.height&&(max.height-=offset.height);var factor=Math.min(max.width/dims.width,max.height/dims.height);1>factor&&$.each(dims,function(key){dims[key]=Math.round(dims[key]*factor)})}return $.extend({},dims)},get_dimensions:function(){var dims=this.get_item_dimensions(),offset=this.get_offset();return $.each(dims,function(key){dims[key]+=offset[key]}),dims},get_breakpoints:function(){return this.get_attribute_recursive(\"breakpoints\")},get_breakpoint:function(target){var ret=0;if(this.util.is_string(target)){var b=this.get_attribute_recursive(\"breakpoints\");this.util.is_obj(b)&&target in b&&(ret=b[target])}return ret},render:function(init){var thm=this,tpl=this.get_template(),st=\"events_render\";this.get_status(st)||(this.set_status(st),tpl.on([\"render-init\",\"render-loading\",\"render-complete\"],function(ev){return thm.trigger(ev.type,ev.data)})),tpl.render(init)},transition:function(event,clear_queue){var dfr=null,attr=\"transition\",v=this.get_viewer(),fx_temp=null,anim_on=v.animation_enabled();if(v.get_attribute(attr,!0)&&this.util.is_string(event)){var anim_stop=function(){var l=v.get_layout();l.find(\"*\").each(function(){for(var el=$(this);el.queue().length;)el.stop(!1,!0)})};clear_queue&&anim_stop();var trns,attr_set=[attr,\"set\"].join(\"_\");if(this.get_attribute(attr_set))trns=this.get_attribute(attr,{});else{var models=this.get_ancestors(!0);trns=[],this.set_attribute(attr_set,!0);var thm=this;$.each(models,function(idx,model){attr in model&&thm.util.is_obj(model[attr])&&trns.push(model[attr])}),trns.push({}),trns=this.set_attribute(attr,$.extend.apply($,trns.reverse()))}this.util.is_method(trns,event)&&(anim_on||(fx_temp=$.fx.off,$.fx.off=!0),dfr=trns[event].call(this,v,$.Deferred()))}return this.util.is_promise(dfr)||(dfr=$.Deferred(),dfr.reject()),dfr.always(function(){null!==fx_temp&&($.fx.off=fx_temp)}),dfr.promise()}};View.Theme=Modeled_Component.extend(Theme);var Template={_slug:\"template\",_reciprocal:!0,_refs:{theme:\"Theme\"},_containers:[\"theme\"],_attr_default:{layout_uri:\"\",layout_raw:\"\",layout_parsed:\"\",tags:null,model:null},theme:null,_c:function(attributes){this._super(\"\",attributes)},_hooks:function(){this.on(\"dom_init\",function(ev){var tags=this.get_tags(null,null,!0),names=[],t=this;$.each(tags,function(idx,tag){var name=tag.get_name();-1===$.inArray(name,names)&&(names.push(name),tag.get_handler().trigger(ev.type,{template:t}))})})},get_theme:function(){var ret=this.get_component(\"theme\",!0,!1,!1);return ret},render:function(init){var v=this.get_theme().get_viewer();if(this.util.is_bool(init)||(init=!1),init)this.trigger(\"render-init\",this.dom_get());else{if(!v.is_active())return!1;var item=v.get_item();if(!this.util.is_type(item,View.Content_Item))return v.close(),!1;if(v.is_active()&&this.has_tags()){var loading_promise=this.trigger(\"render-loading\"),tpl=this,tags=this.get_tags(),tag_promises=[];$.when(item.load(),loading_promise).done(function(){return v.is_active()?($.each(tags,function(idx,tag){return v.is_active()?(tag_promises.push(tag.render(item).done(function(r){return v.is_active()?(r.tag.dom_get().html(r.output),void 0):!1})),void 0):!1}),v.is_active()?($.when.apply($,tag_promises).done(function(){tpl.trigger(\"render-complete\")}),void 0):!1):!1})}}},get_layout:function(parsed){this.util.is_bool(parsed)||(parsed=!0);var l=parsed?this.parse_layout():this.get_attribute(\"layout_raw\",\"\");return l},parse_layout:function(){var a=\"layout_parsed\",ret=this.get_attribute(a);return this.util.is_string(ret)?ret:(ret=this.sanitize_layout(this.get_layout(!1)),ret=this.parse_tags(ret),this.set_attribute(a,ret),ret)},sanitize_layout:function(l){if(this.util.is_empty(l))return l;var rtype=this.util.is_string(l)?\"string\":null,dom=$(l),tag_temp=this.get_tag_temp(),cls=tag_temp.get_class(),cls_new=[\"x\",cls].join(\"_\");switch($(tag_temp.get_selector(),dom).each(function(){$(this).removeClass(cls).addClass(cls_new)}),rtype){case\"string\":dom=dom.wrap(\"<div />\").parent().html(),l=dom;break;default:l=dom}return l},parse_tags:function(l){if(!this.util.is_string(l))return\"\";for(var match,re=/\\{{2}\\s*(\\w.*?)\\s*\\}{2}/gim;match=re.exec(l);)l=l.substring(0,match.index)+this.get_tag_container(match[1])+l.substring(match.index+match[0].length);return l},get_tag_container:function(tag){var attr=this.get_tag_attribute();return this.util.format('<span %s=\"%s\"></span>',attr,encodeURI(tag))},get_tag_attribute:function(){return this.get_tag_temp().dom_get_attribute()},get_tag:function(idx){var ret=null;if(this.has_tags()){var tags=this.get_tags();(!this.util.is_int(idx)||0>idx||idx>=tags.length)&&(idx=0),ret=tags[idx]}return ret},get_tags:function(name,prop,isolate){this.util.is_bool(isolate)||(isolate=!1);var a=\"tags\",tags=this.get_attribute(a);if(!this.util.is_array(tags)){tags=[];var d=this.dom_get(),attr=this.get_tag_attribute(),nodes=$(d).find(\"[\"+attr+\"]\");$(nodes).each(function(){var el=$(this),tag=new View.Template_Tag(decodeURI(el.attr(attr)));tag.has_handler()&&(tags.push(tag),isolate||(tag.dom_set(el),el.addClass(tag.get_classes(\" \")))),isolate||el.removeAttr(attr)}),isolate||this.set_attribute(a,tags,!1)}if(!this.util.is_empty(tags)&&this.util.is_string(name)){this.util.is_string(prop)||(prop=!1);for(var tags_filtered=[],tc=null,x=0;x<tags.length;x++)tc=tags[x],name===tc.get_name()&&(prop&&prop!==tc.get_prop()||tags_filtered.push(tc));tags=tags_filtered}return this.util.is_array(tags,!1)?tags:[]},has_tags:function(){return this.get_tags().length>0?!0:!1},get_tag_temp:function(){return this.get_parent().get_component_temp(View.Template_Tag)},get_tag_selector:function(name,prop){this.util.is_string(name)||(name=\"\"),this.util.is_string(prop)||(prop=\"\");var tag=this.get_tag_temp();return tag.set_attribute(\"name\",name),tag.set_attribute(\"prop\",prop),tag.get_selector(\"full\")},dom_init:function(){this.dom_set(this.get_layout()),this.trigger(\"dom_init\")},dom_get_tag:function(tag,prop){var ret=$(),tags=this.get_tags(tag,prop);if(tags.length){var level=null;this.util.is_string(tag)&&(level=this.util.is_string(prop)?\"full\":\"tag\");var sel=\".\"+tags[0].get_class(level);ret=this.dom_get().find(sel)}return ret}};View.Template=Modeled_Component.extend(Template);var Template_Tag={_slug:\"template_tag\",_reciprocal:!0,_attr_default:{name:null,prop:null,match:null},handlers:{},_c:function(tag_match){this.parse(tag_match)},parse:function(tag_match){if(!this.util.is_string(tag_match))return!1;var part,parts=tag_match.split(\"|\");if(!parts.length)return null;var attrs={name:null,prop:null,match:tag_match};attrs.name=parts[0],-1!==attrs.name.indexOf(\".\")&&(attrs.name=attrs.name.split(\".\",2),attrs.prop=attrs.name[1],attrs.name=attrs.name[0]);for(var x=1;x<parts.length;x++)part=parts[x].split(\":\",1),part.length>1&&!(part[0]in attrs)&&(attrs[part[0]]=part[1]);this.set_attributes(attrs,!0)},render:function(item){var tag=this;return tag.get_handler().render(item,tag).pipe(function(output){return{tag:tag,output:output}})},get_name:function(){return this.get_attribute(\"name\")},get_prop:function(){return this.get_attribute(\"prop\")},get_handler:function(){return this.has_handler()?this.handlers[this.get_name()]:new View.Template_Tag_Handler(\"\")},has_handler:function(){return this.get_name()in this.handlers},get_classes:function(rtype){var cls=[this.get_class(),this.get_class(\"tag\"),this.get_class(\"full\")];return this.util.is_string(rtype)&&(cls=cls.join(rtype)),cls},get_class:function(level){var cls=\"\";switch(level){case\"tag\":cls=this.get_name();break;case\"full\":var i,parts=[this.get_name(),this.get_prop()],a=[];for(i=0;i<parts.length;i++)this.util.is_string(parts[i])&&a.push(parts[i]);cls=a.join(\"_\")}return this.util.is_string(cls)?this.add_ns(cls):this.get_ns()},get_selector:function(level){var ret=this.get_class(level);return ret=this.util.is_string(ret)?\".\"+ret:\"\"}};View.Template_Tag=Component.extend(Template_Tag);var Template_Tag_Handler={_slug:\"template_tag_handler\",_attr_default:{supports_modifiers:!1,dynamic:!1,props:{}},render:function(item,instance){var dfr=$.Deferred();return this.call_attribute(\"render\",item,instance,dfr),dfr.promise()},add_prop:function(prop,fn){var a=\"props\",props=this.get_attribute(a);return this.util.is_string(prop)&&this.util.is_func(fn)?(this.util.is_obj(props,!1)||(props={}),props[prop]=fn,this.set_attribute(a,props),void 0):!1},handle_prop:function(prop,item,instance){var props=this.get_attribute(\"props\"),out=\"\";return out=this.util.is_obj(props)&&prop in props&&this.util.is_func(props[prop])?props[prop].call(this,item,instance):item.get_viewer().get_label(prop)}};View.Template_Tag_Handler=Component.extend(Template_Tag_Handler),SLB.attach(\"View\",View),View=SLB.View,View.update_refs()}(jQuery);";
var mod_pagespeed_rwADZIu_BN = "window.SLB&&SLB.has_child(\"View.extend_theme\")&&!function($){$(document).ready(function(){SLB.View.extend_theme(\"slb_baseline\",{breakpoints:{small:480,large:1024},offset:function(){var o;return o=document.documentElement.clientWidth>this.get_breakpoint(\"small\")?{width:32,height:55}:{width:0,height:0}},margin:function(){var m;return m=document.documentElement.clientWidth>this.get_breakpoint(\"small\")?{height:50,width:20}:{height:0,width:0}}})})}(jQuery);";
var mod_pagespeed_DHY65I3jgO = "window.SLB&&SLB.has_child(\"View.extend_theme\")&&!function($){$(document).ready(function(){SLB.View.extend_theme(\"slb_default\",{transition:{open:function(v,dfr){var l=v.get_layout().hide(),o=v.get_overlay().hide(),thm=this,d=v.dom_get();return d.find(\".slb_content\").css({width:\"\",height:\"\"}).find(this.get_tag_selector()).hide(),d.find(\".slb_details\").height(0),d.show({always:function(){var pos={top_base:$(document).scrollTop()};document.documentElement.clientWidth>thm.get_breakpoint(\"small\")?(pos.top=pos.top_base+$(window).height()/2-l.height()/2,pos.top<pos.top_base&&(pos.top=pos.top_base)):pos.top=pos.top_base,o.fadeIn({always:function(){l.css(pos),dfr.resolve()}})}}),dfr.promise()},close:function(v,dfr){var l=v.get_layout(),c=l.find(\".slb_content\"),reset=function(){c.width(\"\").height(\"\"),l.css(\"opacity\",\"\"),dfr.resolve()};if(v.animation_enabled()&&document.documentElement.clientWidth>this.get_breakpoint(\"small\")){var anims={layout:{opacity:0,top:$(document).scrollTop()+$(window).height()/2},content:{width:0,height:0},speed:\"fast\"},pos=l.animate(anims.layout,anims.speed).promise(),size=c.animate(anims.content,anims.speed).promise();$.when(pos,size).done(function(){v.get_overlay().fadeOut({always:function(){reset()}})})}else l.css(\"opacity\",0),reset();return dfr.promise()},load:function(v){return v.get_layout().find(\".slb_loading\").show(),document.documentElement.clientWidth>this.get_breakpoint(\"small\")?v.get_layout().fadeIn().promise():v.get_layout().show().promise()},unload:function(v,dfr){var l=v.get_layout(),det=l.find(\".slb_details\"),cont=l.find(\".slb_content \"+this.get_tag_selector()),props={height:0};return det.css(props),cont.hide(),$.when(det.promise(),cont.promise()).done(function(){dfr.resolve()}),dfr.promise()},complete:function(v,dfr){var l=v.get_layout(),loader=l.find(\".slb_loading\"),det=l.find(\".slb_details\"),det_data=det.find(\".slb_data\"),c=l.find(\".slb_content\"),c_tag=c.find(this.get_tag_selector());if(document.documentElement.clientWidth>this.get_breakpoint(\"small\")){var spd=\"fast\",dims_item=this.get_item_dimensions();det.width(dims_item.width);var dims_det={height:det_data.outerHeight()};det.width(\"\");var pos={top_base:$(document).scrollTop()};pos.top=pos.top_base+$(window).height()/2-(dims_det.height+dims_item.height)/2,pos.top<pos.top_base&&(pos.top=pos.top_base),pos=l.animate(pos,spd).promise(),dims_item=c.animate(dims_item,spd).promise();var thm=this;$.when(pos,dims_item).done(function(){loader.fadeOut(spd,function(){c.find(thm.get_tag_selector(\"item\",\"content\")).fadeIn(function(){c_tag.show(),det.animate({height:det_data.outerHeight()},\"slow\").promise().done(function(){det.height(\"\"),dfr.resolve()})})})})}else loader.hide(),c_tag.show(),det.height(\"\"),dfr.resolve();return dfr.promise()}}})})}(jQuery);";
var mod_pagespeed_yPf8DQEHR2 = "window.SLB&&SLB.has_child(\"View.extend_template_tag_handler\")&&!function($){$(document).ready(function(){SLB.View.extend_template_tag_handler(\"item\",{render:function(item,tag,dfr){var m=\"get_\"+tag.get_prop(),ret=this.util.is_method(item,m)?item[m]():item.get_attribute(tag.get_prop(),\"\");return this.util.is_promise(ret)?ret.done(function(output){dfr.resolve(output)}):dfr.resolve(ret),dfr.promise()}})})}(jQuery);";
var mod_pagespeed_M0IsbeP2fH = "window.SLB&&SLB.has_child(\"View.extend_template_tag_handler\")&&!function($){$(document).ready(function(){SLB.View.extend_template_tag_handler(\"ui\",{_hooks:function(){this.on(\"dom_init\",function(ev){this.call_attribute(\"events_init\",ev)})},events_init:function(ev){var v=ev.data.template.get_theme().get_viewer();v.on(\"events-complete\",function(ev,v){v.get_theme().dom_get_tag(\"ui\",\"close\").click(function(){return v.close()}),v.get_theme().dom_get_tag(\"ui\",\"nav_next\").click(function(){v.item_next()}),v.get_theme().dom_get_tag(\"ui\",\"nav_prev\").click(function(){v.item_prev()}),v.get_theme().dom_get_tag(\"ui\",\"slideshow_control\").click(function(){v.slideshow_toggle()})}),v.on(\"slideshow-toggle\",function(ev,v){var tags=v.get_theme().get_tags(\"ui\",\"slideshow_control\");if(tags.length)for(var render_tag=function(tag){tag.render(v.get_item()).done(function(r){r.tag.dom_get().html(r.output)})},x=0;x<tags.length;x++)render_tag(tags[x])})},render:function(item,tag,dfr){var ret=this.handle_prop(tag.get_prop(),item,tag);return this.util.is_promise(ret)?ret.done(function(output){dfr.resolve(output)}):dfr.resolve(ret),dfr.promise()},props:{slideshow_control:function(item){var v=item.get_viewer(),prop=v.slideshow_active()?\"slideshow_stop\":\"slideshow_start\";return v.get_label(prop)},group_status:function(item){if(item.get_group().is_single())return\"\";var key,ph,out=item.get_viewer().get_label(\"group_status\"),delim=\"%\",handlers={current:function(){return item.get_group(!0).get_pos()+1},total:function(){return item.get_group().get_size()}};for(key in handlers)ph=delim+key+delim,-1!==out.indexOf(ph)&&(out=out.replace(new RegExp(ph,\"ig\"),handlers[key]()));return out}}})})}(jQuery);";
var mod_pagespeed_Q$HntTw5UC = "window.SLB&&SLB.has_child(\"View.extend_content_handler\")&&!function($){$(document).ready(function(){SLB.View.extend_content_handler(\"image\",{render:function(item,dfr){var img=new Image,handler=function(){item.set_data(img),item.set_attribute(\"dimensions\",{width:img.width,height:img.height});var out=$(\"<img />\",{src:item.get_uri()});dfr.resolve(out)};return $(img).on(\"load\",function(e){handler(e)}),img.src=item.get_uri(),dfr.promise()}})})}(jQuery);";